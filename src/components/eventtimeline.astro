---
import { apiUrl } from "../lib/constants";
---

<div class="flex justify-center">
  <div class="w-full max-w-4xl overflow-x-auto rounded-lg shadow-lg p-4">
    <!-- Bande horizontale des événements -->
    <div id="events-container" class="flex space-x-4 overflow-x-auto p-4 bg-[#161215] rounded-lg">
      <!-- Les événements seront chargés dynamiquement ici via HTMX -->
      <p class="p-4 rounded-lg w-full text-center">Chargement des événements...</p>
    </div>

    <!-- Bloc pour charger les événements -->
     <div
      hx-get={`${apiUrl}/api/events`}
      hx-target="#events-container"
      hx-trigger="load"
      hx-swap="innerHTML"
      hx-on-error="this.innerHTML = 'Erreur lors du chargement des événements';"
    >   
    <!-- 
    Fait une requête GET à l'URL spécifiée, 
    Spécifie où insérer la réponse (id= "events-container"),
    Déclenche la requête automatiquement lors du chargement de la page, 
    Insère le contenu récupéré à la fin de l'élément cible 
    -->
    </div>
  </div>
</div>

<!-- Bloc statique pour s'assurer que tailwind charge les styles du bloc dynamique-->
<div style="display: none;" class="flex flex-col justify-between bg-[#26232A] border 
border-[#E5E7EB] p-4 rounded-lg w-64 shadow-md hover:shadow-lg transition-transform hover:scale-105 cursor-pointer flex-shrink-0 gap-0.5">
  <div>
    <h2 class="text-lg font-heading text-heading truncate-2-lines leading-tight mb-2"></h2>
  </div>
  <div>
    <p class="text-sm">Joueurs : </p>
    <p class="text-sm text-gray-400">Début : </p>
    <p class="text-sm text-gray-400">Fin : </p>
  </div>
</div>
</div>