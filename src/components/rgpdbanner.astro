---
// Bannière RGPD minimaliste sans Alpine.js - Corrigée pour TypeScript
---

<div id="rgpd-banner" class="fixed bottom-0 left-0 right-0 bg-[#1f191d] border-t border-[#4d2d45] p-4 z-50 text-sm shadow-lg">
    <div class="max-w-6xl mx-auto flex flex-col sm:flex-row justify-between items-center gap-4">
      <p>
        Esportify n'utilise pas de cookies mais stocke des informations d'authentification localement pour le bon fonctionnement du site.
        <a href="test.html" class="text-red-700 hover:text-red-600 underline">En savoir plus</a>
      </p>
      <button
        id="rgpd-accept"
        class="px-4 py-2 bg-red-700 hover:bg-red-800 rounded whitespace-nowrap"
      >
        J'accepte
      </button>
    </div>
  </div>
  
  <script>
    // Fonction qui s'exécute quand le DOM est chargé
    document.addEventListener('DOMContentLoaded', function() {
      // Récupérer les éléments avec vérification
      const banner = document.getElementById('rgpd-banner');
      const acceptButton = document.getElementById('rgpd-accept');
      
      // Vérifie si les éléments existent
      if (!banner || !acceptButton) {
        console.error("Éléments de la bannière RGPD non trouvés");
        return;
      }
      
      // Vérifie si l'utilisateur a déjà accepté
      const accepted = localStorage.getItem('rgpd-accepted');
      
      // Cache la bannière si déjà accepté
      if (accepted === 'true') {
        banner.style.display = 'none';
      }
      
      // Ajoute l'événement au bouton d'acceptation
      acceptButton.addEventListener('click', function() {
        localStorage.setItem('rgpd-accepted', 'true');
        banner.style.display = 'none';
      });
    });
  </script>